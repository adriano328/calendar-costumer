<div class="wrapper">
  <div class="flex justify-content-center container-agenda">
    <div class="flex flex-column align-items-center container-calendar">
      <div class="flex justify-content-center align-items-center container-imagem">
        <p class="footer" style="text-align: center;"> <img src="/assets/logo.png" height="200px" class="img-footer">
        </p>
      </div>
      <span class="descricao mb-2">{{igreja}} {{campo}}</span>
      <span class="title">AGENDA DE EVENTOS {{ano}}</span>
      <div class="container-filtro mt-3">
        <div class="grid filtros">
          <div class="flex flex-column col-12 sm:col-12 md:col-12 lg:col-6 xl:col-6 filtro">
            <span class="mb-1" class="label">Eventos por Local/Setor:</span>
            <p-multiSelect [options]="setor" placeholder="Selecione" [(ngModel)]="localSetor"
              optionLabel="nome"></p-multiSelect>
          </div>
          <div class="flex flex-column col-12 sm:col-12 md:col-12 lg:col-6 xl:col-6 filtro">
            <span class="mb-1" class="label">Por espa√ßo:</span>
            <p-dropdown [options]="espaco" [(ngModel)]="tipoEspacoSelecionado" optionLabel="descricao" optionValue="id"
              placeholder="Selecione" />
          </div>
          <div class="flex flex-column justify-content-center align-items-center col-12 sm:col-12 md:col-12 lg:col-12 xl:col-12 filtro">
            <span class="mb-1" class="label">Tipo de Atividade:</span>
            <p-dropdown [options]="tipoAtividade" class="w-6" [(ngModel)]="tipoAtividadeSelecionado"
              optionLabel="descricao" optionValue="id" placeholder="Selecione" />
          </div>
          <div
            class="flex justify-content-center mt-3 gap-3 align-items-center sm:col-12 md:col-12 lg:col-12 xl:col-12">
            <div class="flex gap-2 justify-content-center align-items-center container-botao-pesquisar"
              (click)="getAllEventByLocalSetor()">
              <i class="material-icons">search</i>
              <span>Pesquisar</span>
            </div>
            <div class="flex gap-2 justify-content-center align-items-center container-botao-pesquisar"
              (click)="limpar()">
              <i class="material-icons">close</i>
              <span>Limpar</span>
            </div>
          </div>
        </div>
      </div>
      <div class="carousel w-full mt-4" *ngIf="listOfEvents.length > 0">
        <p-carousel [value]="listOfEvents" [numVisible]="3" [numScroll]="3" [circular]="true" [autoplayInterval]="3000"
          [responsiveOptions]="responsiveOptions">
          <ng-template let-event pTemplate="item">
            <div class="p-3 flex align-items-center justify-content-center border-round surface-card shadow-1">
              <div class="flex flex-column justify-content-center align-items-center text-center">
                <!-- <img src="https://rosesfotos.com.br/wp-content/uploads/2021/04/Debut2019-110-1200x857.jpg" height="100" alt="Evento"> -->
                <div class="mb-2 titulo">{{ event?.nomeEvento}}</div>
                <div class="local mb-3">{{ event?.localRealizacao }}</div>
                <div class="data">{{ event?.dataInicial | date: 'dd/MM/YYYY'}} - {{ event?.dataFinal | date:
                  'dd/MM/YYYY'}}</div>
                <p-tag class="mt-3" [value]="event?.situacaoEvento == 'EM_ABERTO' ? 'ABERTO' : event?.situacaoEvento " [severity]="getSeverity(event?.situacaoEvento)">
                </p-tag>
              </div>
            </div>
          </ng-template>
        </p-carousel>
      </div>
      <div class="calendario">
        <full-calendar class="calendar-one" *ngIf='calendarVisible' [options]='calendarOptionsOne'
          [events]="initialEvents" id="calendario">
          <ng-template #eventContent let-arg>
            <b>{{ arg.timeText }}</b>
            <i>{{ arg.event.title }} </i>
          </ng-template>
        </full-calendar>
      </div>
      <div class="flex flex-row justify-content-between gap-2 container-quadros">
        <div class="flex justify-content-center align-items-center flex-column container-lista p-2 mt-4"
          *ngFor="let item of initialEvents">
          <img alt="">
          <span class="texto">{{item.title}}</span>
          <span class="texto mt-1">DATA INICIO: {{item.start | date: 'dd/MM/YYYY'}}</span>
          <span class="texto mt-1">DATA FIM: {{item.end | date: 'dd/MM/YYYY'}}</span>
        </div>
      </div>
    </div>
  </div>
  <p-dialog [(visible)]="eventDetailsFirstCalendar" [modal]="true" [breakpoints]="{ '960px': '75vw' , '700px': '92vw'}"
    [position]="'center'">
    <ng-template pTemplate="header">
      <p>{{detailEvent.nomeEvento}}</p>
    </ng-template>
    <div class="grid">
      <div class="col-12 md:col-6 lg:col-6">
        <div class="day-event">
          <i class="pi pi-calendar"><span class="text-event date">{{detailEvent.dataInicial| date: 'dd'}}</span><span
              class="text-event"> a {{detailEvent.dataFinal | date: 'dd MMM yyyy' : 'pt'}}</span></i>
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-6">
        <div class="locale">
          <i class="pi pi-map-marker"><span class="text-event">Local do Evento: <span
                class="local">{{convertLocalEvento(detailEvent.localSetorId)}}</span></span></i>
        </div>
      </div>
      <div class="linha">
      </div>
      <div class="col-12 md:col-6 lg:col-12">
        <div class="descricao">
          <span class="text-event"><span style="font-size: 14px;">Sobre o Evento:</span>
            {{detailEvent.descricaoEvento}}</span>
        </div>
        <div class="descricao" style="margin-top: 1em;">
          <span class="text-event"><span style="font-size: 14px;">Link Acesso:</span><i class="pi pi-external-link"
              style="margin-left: 0.5em; cursor: pointer;" (click)="redirectLink(detailEvent.linkEvento)"></i></span>
        </div>
      </div>
    </div>
  </p-dialog>
  <router-outlet></router-outlet>